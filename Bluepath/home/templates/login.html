{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Login</title>
    <link rel="stylesheet" href="{% static 'home/login.css' %}" />
</head>
<body>

<div class="login-wrapper">
    <div class="black-container">
        <div class="card">
            <div class="left-content">
                <div class="login-title">
                    <h2>Login</h2>
                    <p>Doesn't have an account yet? <a href="{% url 'signup' %}">Sign Up</a></p>
                </div>
            
                <form method="POST" onsubmit="return handleLogin(event)">
  {% csrf_token %}
  <div class="input-group">
    <label for="email">Email address</label>
    <input type="email" id="email" name="email" placeholder="Enter your email" required>
  </div>

  <div class="input-group">
    <div class="label-row">
      <label for="password">Password</label>
      <a href="#">Forget Password?</a>
    </div>
    <input type="password" id="password" name="password" placeholder="Enter your password" required>
  </div>

  <div class="remember-me">
    <input type="checkbox" id="remember">
    <label for="remember">Remember me?</label>
  </div>

  <button type="submit" class="login-btn" id="loginBtn" disabled>LOGIN</button>
</form>
            
                    <div class="or">or login with</div>
            
                    <button type="button" class="google-btn">
                        <img src="{% static 'images/google.png' %}" alt="Google logo"> Google
                    </button>
                </form>
            </div>
            <div class="right-content">
                <div class="right-inner">
                    <h1>Welcome Back!</h1>
                    <p>Sign in to find your way around campus effortlessly.</p>
                </div>
            </div>
        </div>
        
    </div>
</div>

<script>
  const emailInput = document.getElementById("email");
  const passwordInput = document.getElementById("password");
  const loginBtn = document.getElementById("loginBtn");
  const homeUrl = "{% url 'after_login' %}";

  // Enable login button only if both fields are filled
  function checkInputs() {
    loginBtn.disabled = !(emailInput.value && passwordInput.value);
  }

  emailInput.addEventListener("input", checkInputs);
  passwordInput.addEventListener("input", checkInputs);

  function handleLogin(e) {
    e.preventDefault(); // stop actual submission
    if (emailInput.value && passwordInput.value) {
      // Simulate login process
      window.location.href = homeUrl; // use Django URL here
    }
  }
</script>


</body>
</html>